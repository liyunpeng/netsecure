

贷款列表中增加贷款总余额
分配收益拒绝后的编辑功能
权限添加
用户添加地址时，对地址进行校验
开发用户收益历史数据记录功能
开发用户订单转移合并功能


添加资产转移详情接口
增加对转入账号和转出账号的所有查询接口
购买订单中的算力统计核对
在资产转移前，先记录转入账户的矿池收益，spacerace收益，spacerace释放奖励



1. poolcepool的意义
今天我给大家讲一下foocepool, 在座的有买过公司算力的小伙伴， 肯定都登录过forcepool用户端， 
我们的市场运营也经常要登录forcepool后台管理系统， 做资产核算， 收益分配， 也是每天都要登录做资产分配

不过还有一些没有买过公司算力的小伙伴， 对forcepool不是很熟悉， 
我们通过forcepool 平台为用户计算产品收益， 并以合理的方式呈现给用户， 并且提供提现功能， 
forcepool先在要维护大概三千左右的用户， 对于用户来讲， 关心的核心问题， 就是我的账户一天收益了几个fil. 
forcepool设计目的就是为用户提供及时准确的数据， 
说的通俗一点， forcepool在用户的眼里就是赚钱的工具， 
forcepool在后台管理员的眼里就是就矿池资产管理， 收益分配的工具， 矿池资产核算要和财务老师的那面的记账系统对上， 

2. 系统架构
forcepool不是一个独立的系统， 要依赖于chaininfo提供矿工的原始数据， 
forcepool根据 经济模型， 对这些数据加工处理， 最终呈现给用户。 
这个经济模型， 是阿信设计出来， 付出了很多的辛苦， 
同时， 用户提现时， foolcepool 需要payment系统打款， 然后forcepool 对打款订单里的消息， 进行跟踪处理。 
所以forcepool能成功运行， 是这个三个系统的同时成功运行。 

所以现在forcepool能在线上成功运行，是几个系统共同协作的结果， 
首先chaiininfo没有问题， 经济模型没有问题， payment没有问题，  
chaininfo是毕方， 感谢毕方， 
经济模型没有问题， 感谢阿信， 感谢辛哥
payment 没有问题， 感谢曹航， 同时曹航几乎包揽了所有的前端， 感谢曹航， 


3. 矿池收益数据的计算， 
forcepool本身 有两个后端， 一个是面向市场用户的后端， 我们叫user后端， 一个是面向管理员的后端，我们叫admin后端， 
user后端会在每天5点时更新矿池数据， 把数据更新为0点的数据， 这些数据主要包括矿工地址和一般地址的资产数据，
地址余额， 初始抵押， 预存款， 原值算力， 等等， 都是forcepool要统计到的数据
其中最重要的数据， 矿池总收益， 用户的收益都是用这个总收益 乘上一个用户空间比列算出的， 
所以，每次发版时， 都要先核对这个总收益。 
用户首页， 在出版上线的时候， 是有总收益， 和总锁仓的展示， 后来改版去掉了， 现在这些数据都藏在后面了
， 

现在就来看用户最关心的收益中心， 用户的收益分作两个部分， 一个是矿池收益， 一个是spaceerace奖励， 
我的收益是矿池收益 呈上空间比列算出的，
到账是   每天都会人工分配一次， 并审核通过， 转到用户账号下的fil个数， 

spacerace奖励是一次性分配的， 然后每天线性释放， 

下面会有这些分配记录的明细，  后面因为市场运营需求反馈， 这个页面还要改， 加上更多的历史数据，
 现在欢欢正在做这方面的事情， 每增加一个数据， 都要经过严格的数据核查， 
（其实我们也想把东西做的简单一点， 但市场用户反馈过来的声音， 说你这个东西要改， 其实对于）

4.  用户提币， payment系统 转账消息的跟踪

用户发起提现，会生成一个提现单， 这个提现单会进入后台管理的提现申请里面， 可以对这个提现单进行审核，  审核通过后， 变成待打款状态， 

forcepool 外部的payment系统， 会拿到待打款提现单， 进行打款操作， 然后payment再通过post请求， 把待打款的单变成已打款， 并发给forcepool系统一个转款消息的id, 
因为消息要

forcepool会有一个定时任务， 

5. 最进问题跟踪， 
http://192.168.1.122:8090/pages/viewpage.action?pageId=1312828









