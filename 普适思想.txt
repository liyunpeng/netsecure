缓冲区思想：
bufio 写文件
kafka生产者
滑动缓冲区思想： 
tcp： 

状态机思想：
tcp连接状态， 
kafka分区副本状态： 等待
 分布式 一致性要求：
redis分布式集群， kafka分布式集群， etcd集群， 

并发：
携程 携程池， 数据库谅解池， redis服务等各种服务的连接池

异步思想
为了保证消息的有序性， 生产者应该指定哪个分区， 而且不曾换分区， 
分区与分区之间是并行的， 所以消息如果有顺序的要求， 就不能发送到不同的分区。 
生产者要
设置每个消息要接收到确认消息同步到分区的所有副本的ack响应
要指定为接收到响应， 能继续发送的消息数为1，